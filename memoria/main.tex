%----------------------------------------------------------------------------------------
%	PAQUETES Y CONFIGURACIÓN
%----------------------------------------------------------------------------------------

\documentclass[a4paper, 11pt, oneside]{article} % Hoja A4, fuente 11pt y oneside

\newcommand{\scriptdir}{../scripts/} % Directorio de los scripts
\newcommand{\plogo}{\fbox{$\mathcal{LCDPM}$}} % Logo del publisher

\usepackage[parfill]{parskip} % Para no indentar la primera linea de cada párrafo
\usepackage[utf8]{inputenc} % Para permitir el input de carácteres internacionales
\usepackage[T1]{fontenc} % Para permitir el output de carácteres internacionales
\usepackage{hyperref} % Para poner links en el índice
\usepackage{xcolor} % Para poner colores 
\usepackage{minted} % Para poner código

\tolerance=9999			% Permite espacios en blanco grandes entre palabras
\emergencystretch=10pt		% Permite un poco de flexibilidad en la longitud de linea
\hyphenpenalty=10000		% Deshabilita los guiones para cortar palabras
\exhyphenpenalty=100		% Permite usar guiones puestos por el usuario

\definecolor{MintedBG}{HTML}{F2EEE9} % Color de fondo de las cajas minted

\setlength{\fboxsep}{0pt} % Quitar margen de color de las cajas minted

\setminted[mysql]{
	frame=single,		% Caja alrededor del código
	framesep=8pt,		% Margen entre la caja y el código
	bgcolor=MintedBG,	% Color de fondo
	breaklines,		% Permitir cortar la linea en un linebreak
	breakafter=_,		% Permitir cortar palabras en las barras bajas
}

\setmintedinline[mysql]{
	bgcolor={},		% Quitar color de fondo del código inline
	breaklines,		% Permitir cortar la linea en un linebreak
	breakafter=_,		% Permitir cortar palabras en las barras bajas
}

\hypersetup{
	colorlinks=true,	% Links del índice visibles
	linktoc=all,		% Links del índice activados
	linkcolor=black,	% Links del índice negros
}

%----------------------------------------------------------------------------------------
%	PORTADA
%----------------------------------------------------------------------------------------

\begin{document} 

\begin{titlepage} % Elimina los encabezados y los piés de página de la portada

	\centering
	
	\scshape % Cambia las minúsculas por mayúsculas pequeñas
	
	\vspace*{\baselineskip} % Espacio en blanco en la parte superior de la página
	
	%------------------------------------------------
	%	Título
	%------------------------------------------------
	
	\rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Linea gruesa superior
	\rule{\textwidth}{0.4pt} % Linea fina superior
	
	\vspace{0.75\baselineskip} % Espacio en blanco sobre el título
	
	{\LARGE \textbf{PRÁCTICA 1}} % Título
	
	\vspace{0.75\baselineskip} % Espacio en blanco bajo el título
	
	\rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Linea fina inferior
	\rule{\textwidth}{1.6pt} % Linea gruesa superior
	
	\vspace{2\baselineskip} % Espacio en blanco bajo el bloque de título
	
	%------------------------------------------------
	%	Subtítulo
	%------------------------------------------------
	
	\textbf{Administración y Gestión de Bases de Datos} % Nombre de la asignatura
	
	\vspace*{3\baselineskip} % Espacio en blanco bajo el subtítulo
	
	%------------------------------------------------
	%	Autores
	%------------------------------------------------
	
	\textbf{Escrito por}
	
	\vspace{0.5\baselineskip} % Espacio en blanco sobre los autores
	
	{\scshape\Large \textbf{Alejandro Fernández de la Puebla Ugidos\\ Miguel Hermoso Mantecón \\ Carlos Lafuente Sanz \\}} % Lista de autores
	
	\vspace{1.0\baselineskip} % Espacio en bajo los autores
	
	\textit{\textbf{Universidad Politécnica de Madrid \\}} % Universidad

	\vspace{0.25\baselineskip} % Espacio en blanco entre la universidad y el campus

	\textit{\textbf{ETSISI}} % Campus
	
	\vfill % Espacio en blanco central
	
	%------------------------------------------------
	%	Fecha y publisher
	%------------------------------------------------
	
	\textbf{31 de octubre de 2022} % Fecha
	
	\vspace{0.5\baselineskip} % Espacio antes del publisher

	\plogo % Logo del publisher

\end{titlepage}

%----------------------------------------------------------------------------------------
%	CONTENIDO
%----------------------------------------------------------------------------------------

\renewcommand*\contentsname{Índice} % Título del índice en español

\setcounter{tocdepth}{3} % Mostrar hasta subsections en el índice

\tableofcontents % Índice

\newpage

%------------------------------------------------
%	Parte 1
%------------------------------------------------
	
\section{Parte 1}

\subsection{Scripts de gestion de la base de datos}

Como primer paso, creamos los scripts \emph{creator.sql} y \emph{dropper.sql}, encargados respectivamente de crear y eliminar el esquema de la base de datos \emph{PracABD1}.\\

Para crear el esquema, utilizamos la sentencia \mintinline{mysql}{CREATE SCHEMA PracABD1}. Tras esa, siguen otras dos que lo configuran para permitir el uso de carácteres internacionales: \mintinline{mysql}{DEFAULT CHARATTER SET utf8mb4} y \mintinline{mysql}{COLLATE utf8mb4_unicode_ci}. Esto permitirá que la base de datos almacene vocales con tildes y la `ñ', presentes en el juego de datos.\\

\inputminted{mysql}{\scriptdir creator.sql}

Eliminar el esquema se realiza através de la sentencia \mintinline{mysql}{DROP SCHEMA PracABD1}.\\

\inputminted{mysql}{\scriptdir dropper.sql}

\subsection{Scripts de gestión de los espacios físicos}

A cada tabla le corresponde un espacio, que se crea mediante el siguiente script:

\inputminted{mysql}{\scriptdir set_physical.sql}

Como se puede ver, cada espacio de tabla tiene su propio fichero asignado.

La eliminación de los espacios creados se realiza através de un script igual de sencillo:

\inputminted{mysql}{\scriptdir drop_physical.sql}

\subsection{Scripts de gestión de las tablas}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.

\subsection{Ejecución de los scripts}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.

\subsection{Inserción de los datos}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.

\subsection{Scripts de gestión de claves}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.

\subsection{Conflicto de claves y datos}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.

\subsection{¿Importa el orden de inserción de claves y datos?}

Incluir el planteamiento seguido, las sentencias SQL utilizadas, y los resultados obtenidos, así como una descripción de las herramientas (Excel, SGDB, ...) que se hayan utilizado para la resolución.
	
\newpage

%------------------------------------------------
%	Parte 2
%------------------------------------------------

\section{Parte 2}

Texto parte 2 xd...
	
\newpage

%------------------------------------------------
%	Parte 3
%------------------------------------------------

\section{Parte 3}

Texto parte 3 xd...

\newpage

%------------------------------------------------
%	Conclusiones
%------------------------------------------------

\section{Conclusiones}

Conclusiones sobre el trabajo realizado en la práctica, haciendo especial énfasis en los aspectos más problemáticos y sus soluciones, así como en los aprendizajes conseguidos durante la práctica.

\end{document}
